#region Copyright Syncfusion Inc. 2001 - 2013
// Copyright Syncfusion Inc. 2001 - 2013. All rights reserved.
// Use of this code is subject to the terms of our license.
// A copy of the current license can be obtained at any time by e-mailing
// licensing@syncfusion.com. Any infringement will be prosecuted under
// applicable laws. 
#endregion
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.Mvc;
using System.Xml.XPath;
using VBATMRC.Infrastructure;
using VBATMRC.Models;

namespace VBATMRC.Controllers
{


    public class EventsController : Controller
    {
        public ActionResult TMCall03_22_16(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult TMCall02_23_16(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult TMCall01_26_16(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult TMCall12_18_15(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult TMCall11_20_15(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult TMCall10_27_15(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult TMCall9_22_15(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
       
        public ActionResult TMCall8_25_15(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult TMCall7_28_15(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult TMSCall(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult TMCall(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }

        public ActionResult Chalenge9_02_14(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult Chalenge9_08_14(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult Chalenge11_10_14(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult Chalenge11_17_14(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult Chalenge1_05_15(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult Chalenge1_12_15(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult Chalenge3_02_15(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult Chalenge3_09_15(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult Chalenge5_26_15(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult Chalenge6_01_15(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult Chalenge7_06_15(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult Chalenge7_13_15(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult Chalenge9_08_15(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult Chalenge9_14_15(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
     


      
        public ActionResult DRO7_8_14(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult SVSR7_22_14(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult SVSR8_12_14(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult TMCall6_24_14(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult TMCall8_26_14(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }

        public ActionResult TMCall10_28_14(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult TMCall11_25_14(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult TMCall12_23_14(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult TMSummer6_24_14(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult TMSummer8_5_14(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult TMSummer8_26_14(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult TMSummer9_23_14(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult VSCMCall6_26_14(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult VSCMCall7_24_14(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult VSCMCall8_28_14(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult VSCMCall9_25_14(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult VSCMCall10_23_14(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult TMSummer8514(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult TMSummer82614(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult TMSummer92314(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }

    }


    public class HomeController : Controller
    {

        public ActionResult TmResourcesRedirect(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        public ActionResult JobAidsTest(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message =  "This page provides Training Manager with available job aids and ";
            ViewBag.Message += "resources for a variety of topic areas. Clicking on a topic area link in ";
            ViewBag.Message += "the index table, located directly below, will take you to the page ";
            ViewBag.Message += "section that contains the available job aids or links for that topic. ";

            return View();
        }

        public ActionResult TmCalendar(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with information about conference calls, meetings, and other activities of interest to TMs.";


            return View();
        }
        
        public ActionResult TmTrainingTest(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides Training Managers with training curricula based on their level of experience. This TM training consists of: Initial TM Training, Advanced TM Training, and Optional TM Training. Clicking on a training link in the index table, located directly below, will take you to the page section that contains the available materials for that type of training. ";


            return View();
        }
        
        public ActionResult TmResources(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            ViewBag.Message = "This page provides training managers with new information and items of current interest.";

            return View();
        }
        public ActionResult TrainingFundamentalsTest(bool? dev)
        {
            ViewBag.Dev = dev ?? false;

            return View();
        }
        public ActionResult ExpandCollapseTest(bool? dev)
        {

            ViewBag.Dev = dev ?? false;
            return View();
        }
        public ActionResult FlyOutTest(bool? dev)
        {
            ViewBag.Dev = dev ?? false;
            return View();
        }
        public ActionResult TestExpand()
        {
            return View();
        }
        public ActionResult Placeholder(bool? dev)
        {
            ViewBag.Message = "This is content placeholder.";
            ViewBag.Dev = dev ?? false;
            return View();
        }
        public ActionResult Index(bool? dev, string scrollDirection, string contentIndex = "")
        {
            int listIndex = 0;
            ViewBag.Message = "Training Manager Resource Center.";
            ViewBag.Development = dev ?? false;
            ViewBag.DisplayMegaphone = "true";
            try
            {
                //Build announcements list
                List<Announcement> annList = AnnouncementList();
                //Start naviagation if content index known
                if (contentIndex != "")
                {
                    listIndex = Convert.ToInt16(contentIndex);
                    if (scrollDirection == "next")
                        //Move to next Announcement 
                        listIndex = listIndex >= annList.Count - 1 ? 0 : ++listIndex;
                    if (scrollDirection == "back")
                        //Move to previouse Announcement
                        listIndex = listIndex <= 0 ? annList.Count - 1 : --listIndex;
                }
                else
                {   //If index not known of previous announcement set index to 0
                    listIndex = 0;
                }
                Announcement announcement = new Announcement();
                //Find announcement by index
                announcement = annList.ElementAt(listIndex);
                announcement.ActionName = "index";
                announcement.LstIndex = listIndex.ToString();
                ViewBag.announcement = announcement;
            }
            catch (Exception ex)
            {
                Response.Write(ex.ToString());
            }
            return View();
        }
        public ActionResult TmTraining(bool? dev)
        {
            ViewBag.Message = "This page will provide Training Managers with training curricula based on their level of  ";
            ViewBag.Message += "experience. This TM training will consist of: Initial TM Training, Advanced TM Training, and  ";
            ViewBag.Message += "Optional TM Training. ";
          
            ViewBag.Dev = dev ?? false;

            return View();
        }
        public ActionResult Tms(bool? dev)
        {
            ViewBag.Message = "This page provides Training Managers with direct links to VBA’s Talent Management System  ";
            ViewBag.Message += "(TMS) and other TMS-related resources.   ";
            ViewBag.Dev = dev ?? false;

            return View();
        }
        public ActionResult TmJobAids(bool? dev)
        {
            ViewBag.Message = "This page provides Training Managers with a variety of available types of resources, to include: job aids, references, and useful links.";
                        
            ViewBag.Dev = dev ?? false;

            return View();
        }
        public ActionResult DutiesAndResponsibilities(bool? dev)
        {
            ViewBag.Message = "This page provides Training Managers with resources describing national-level expectations for   ";
            ViewBag.Message += "their duties and responsibilities.   ";
            ViewBag.Dev = dev ?? false;

            return View();
        }
        public ActionResult TrainingCalendar(bool? dev)
        {
            ViewBag.Message = "This page will provide Training Managers with information about conference calls, meetings, ";
            ViewBag.Message += "and other activities of interest to TMs. ";
            ViewBag.Dev = dev ?? false;

            return View();
        }
        public ActionResult LearningCatalog(bool? dev)
        {
            ViewBag.Message = "Learning Catalog page description...";
            ViewBag.Dev = dev ?? false;

            return View();
        }
        public ActionResult NewsFeed(bool? dev)
        {
            ViewBag.Message = "This page provides training managers with new information and items of current interest.";
            ViewBag.Dev = dev ?? false;

            return View();
        }
        public ActionResult Faq(bool? dev)
        {
            ViewBag.Message = "This page will provide Training Managers with answers to frequently asked questions (FAQs) of ";
            ViewBag.Message += "interest to TMs. ";
            ViewBag.Dev = dev ?? false;
            return View();
        }
        [AcceptVerbs(HttpVerbs.Get)]
        public ActionResult DownloadFile(bool? dev, string filename)
        {
            ViewBag.Dev = dev ?? false;
            return new Utils.DownloadResult { VirtualPath = "~/Assets/Documents/" + filename, FileDownloadName = filename };
        }
        //[AcceptVerbs(HttpVerbs.Get)]
        //public ActionResult Download(int fileId)
        //{
        //    Data.LinqToSql.File file = _fileService.GetByID(fileId);

        //    return new Utils.DownloadResult
        //    {
        //        VirtualPath = Utils.GetVirtualPath(file.Path),
        //        FileDownloadName = file.Name
        //    };
        //}
        // Gets object from XML to JSON format
        public JsonResult ReadXmlFromFile()
        {
            Announcements.CreateXml();
            //Change the path name is required for your application
            var path = Infrastructure.Utils.MappedApplicationPath + "App_Data\\xmlFile.xml";
            var listFiles = new List<Announcement>();
            try
            {
                var xmlDoc = new XPathDocument(path);
                var nav = xmlDoc.CreateNavigator();
                foreach (XPathNavigator message in nav.Select("Root/Msg"))
                {
                    var announcement = new Announcement();
                    var title = message.SelectSingleNode("Title");
                    if (title != null)
                        announcement.Title = title.Value;
                    var link = message.SelectSingleNode("Link");
                    if (link != null)
                        announcement.Link = link.Value;
                    var copy = message.SelectSingleNode("Body");
                    if (copy != null)
                    {
                        var bodySize = copy.Value;
                        bodySize = bodySize.Length > 149 ? bodySize.Substring(0, 150) + "..." : bodySize;
                        announcement.Copy = bodySize;
                    }
                    var nodePath = message.SelectSingleNode("Path");
                    if (nodePath != null)
                        announcement.Path = nodePath.Value;
                    listFiles.Add(announcement);
                }
            }
            catch (Exception)
            {
                throw;
            }
            return Json(listFiles, JsonRequestBehavior.AllowGet);
        }
        // Returns list of announcements
        public List<Announcement> AnnouncementList()
        {

            Announcements.CreateXml();
            //Change the path name is required for your application
            var path = Infrastructure.Utils.MappedApplicationPath + "App_Data\\xmlFile.xml";
            var listFiles = new List<Announcement>();
            try
            {
                var xmlDoc = new XPathDocument(path);
                var nav = xmlDoc.CreateNavigator();
                foreach (XPathNavigator message in nav.Select("Root/Msg"))
                {
                    var announcement = new Announcement();
                    var title = message.SelectSingleNode("Title");
                    if (title != null)
                        announcement.Title = title.Value;
                    var link = message.SelectSingleNode("Link");
                    if (link != null)
                        announcement.Link = link.Value;
                    var copy = message.SelectSingleNode("Body");
                    if (copy != null)
                    {
                        var bodySize = copy.Value;
                        bodySize = bodySize.Length > 149 ? bodySize.Substring(0, 150) + "..." : bodySize;
                        announcement.Copy = bodySize;
                    }
                    var path1 = message.SelectSingleNode("Path");
                    if (path1 != null)
                        announcement.Path = path1.Value;
                    listFiles.Add(announcement);
                }
            }
            catch (Exception)
            {
                throw;
            }

            return listFiles;
        }
    }
}
